/******************************************************************************
 * Includes
 *******************************************************************************/
#include "HeatedGrips.h"
#include "IO.h"
#include "MCU_dbc.h"
#include <stdint.h>

/******************************************************************************
 * Constants
 *******************************************************************************/

/******************************************************************************
 * Macros
 *******************************************************************************/

/******************************************************************************
 * Configuration
 *******************************************************************************/

/******************************************************************************
 * Typedefs
 *******************************************************************************/

/******************************************************************************
 * Variable Declarations
 *******************************************************************************/

/******************************************************************************
 * Function Prototypes
 *******************************************************************************/

/******************************************************************************
 * Function Definitions
 *******************************************************************************/

void HeatedGripControl_Init(void) {
    IO_SET_HEATED_GRIPS_EN(LOW);
    IO_SET_HEATED_SEAT_EN(LOW);
}

void HeatedGripControl_Run_100ms(void) {

    if (IO_GET_SPARE_SWITCH_2_IN()) {
        IO_SET_HEATED_GRIPS_EN(HIGH);
        IO_SET_HEATED_SEAT_EN(HIGH);
    } else {
        IO_SET_HEATED_GRIPS_EN(LOW);
        IO_SET_HEATED_SEAT_EN(LOW);
    }
    
    //CAN_mcu_status_horn_set(IO_GET_HORN_EN()); change this to heated grip status
}

void HeatedGripControl_Halt(void) {
    IO_SET_HEATED_GRIPS_EN(LOW);
    IO_SET_HEATED_SEAT_EN(LOW);
}

/*** End of File **************************************************************/





