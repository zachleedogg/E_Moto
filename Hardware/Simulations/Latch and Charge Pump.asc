Version 4
SHEET 1 2828 680
WIRE 592 -528 592 -560
WIRE -1056 -432 -1120 -432
WIRE -1024 -432 -1056 -432
WIRE -720 -432 -720 -448
WIRE -624 -432 -720 -432
WIRE -512 -432 -624 -432
WIRE -256 -432 -256 -464
WIRE -256 -432 -432 -432
WIRE -144 -432 -256 -432
WIRE 592 -432 592 -448
WIRE -1024 -400 -1024 -432
WIRE -1120 -384 -1120 -432
WIRE -624 -384 -624 -432
WIRE -720 -368 -720 -432
WIRE -720 -368 -848 -368
WIRE -256 -368 -256 -432
WIRE -144 -352 -208 -352
WIRE -848 -336 -848 -368
WIRE -512 -336 -512 -368
WIRE -432 -336 -432 -368
WIRE -432 -336 -512 -336
WIRE 592 -336 592 -352
WIRE 1088 -336 928 -336
WIRE 1280 -336 1088 -336
WIRE 1488 -336 1280 -336
WIRE -720 -320 -720 -368
WIRE -432 -320 -432 -336
WIRE -1120 -288 -1120 -320
WIRE -1024 -288 -1024 -320
WIRE -1024 -288 -1120 -288
WIRE -144 -288 -144 -352
WIRE -80 -288 -144 -288
WIRE -1024 -256 -1024 -288
WIRE -688 -256 -720 -256
WIRE -624 -256 -624 -320
WIRE -624 -256 -688 -256
WIRE 1488 -240 1488 -336
WIRE -848 -224 -848 -256
WIRE -432 -224 -432 -256
WIRE -384 -224 -432 -224
WIRE -256 -224 -256 -272
WIRE -256 -224 -304 -224
WIRE 1088 -224 1088 -336
WIRE 1280 -224 1280 -256
WIRE 1440 -224 1280 -224
WIRE 592 -208 592 -240
WIRE 672 -208 592 -208
WIRE -688 -192 -688 -256
WIRE 224 -176 224 -208
WIRE 272 -176 224 -176
WIRE 384 -176 352 -176
WIRE -256 -144 -256 -224
WIRE 1280 -144 1280 -224
WIRE -1024 -112 -1024 -176
WIRE 1088 -96 1088 -144
WIRE 384 -80 384 -176
WIRE 384 -80 352 -80
WIRE -80 -64 -80 -192
WIRE -80 -64 -208 -64
WIRE 64 -64 -80 -64
WIRE 224 -64 224 -176
WIRE 224 -64 64 -64
WIRE 288 -64 224 -64
WIRE 1232 -64 864 -64
WIRE 1488 -64 1488 -144
WIRE 1488 -64 1440 -64
WIRE 1584 -64 1488 -64
WIRE 1680 -64 1664 -64
WIRE 448 -48 352 -48
WIRE 544 -48 544 -64
WIRE 544 -48 448 -48
WIRE 1088 -48 1088 -96
WIRE 1280 -48 1088 -48
WIRE 1376 -48 1280 -48
WIRE -912 -32 -912 -48
WIRE -912 -32 -976 -32
WIRE 1568 -32 1440 -32
WIRE 544 -16 544 -48
WIRE 864 -16 864 -64
WIRE -912 0 -912 -32
WIRE -896 0 -912 0
WIRE 224 64 224 -64
WIRE 288 64 224 64
WIRE 448 64 448 -48
WIRE 448 64 368 64
WIRE 224 80 224 64
WIRE 1568 80 1568 -32
WIRE 1488 304 1488 288
FLAG 1744 -384 0
FLAG 1744 -464 5V
FLAG 1488 384 0
FLAG 1488 288 lat
FLAG 1408 -80 5V
FLAG 1408 -16 0
FLAG 1568 160 0
FLAG 1680 -64 lat
FLAG 928 -336 5V
FLAG 864 64 0
FLAG 1088 -96 nFault
FLAG 544 -256 5V
FLAG 672 -208 nFault
FLAG 1520 -464 0
FLAG 1520 -544 CP
FLAG 592 -560 CP
FLAG 320 -96 5V
FLAG 320 -32 0
FLAG 224 -288 5V
FLAG 544 -144 5V
FLAG 544 64 0
FLAG 448 -176 0
FLAG 64 -64 out
FLAG -256 -48 0
FLAG 48 -416 0
FLAG 48 -496 13V5
FLAG -256 -464 13V5
FLAG -688 -192 13V5
FLAG -848 -224 0
FLAG -32 -208 5V
FLAG -1024 -16 0
FLAG -912 80 0
FLAG -1056 -432 13V5
SYMBOL voltage 1744 -480 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 5V
SYMBOL voltage 1488 288 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value PWL(0 0 .01 0 .011 5 .012 0)
SYMBOL Opamps\\UniversalOpamp2 1408 -48 M0
WINDOW 3 -50 70 Left 2
SYMATTR Value LM2901
SYMATTR InstName U1
SYMATTR SpiceModel ""
SYMATTR Value2 ""
SYMATTR SpiceLine ""
SYMATTR SpiceLine2 ""
SYMBOL voltage 1568 64 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 2.5
SYMBOL res 1072 -240 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 1680 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL pmos 1440 -144 M180
SYMATTR InstName M1
SYMATTR Value BSS84
SYMBOL res 1264 -352 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL nmos 1232 -144 R0
SYMATTR InstName M2
SYMATTR Value BSP89
SYMBOL voltage 864 -32 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value PWL(0 3.3 .15 3.3 .151 0 .152 3.3)
SYMBOL nmos 544 -336 R0
SYMATTR InstName M3
SYMATTR Value BSP89
SYMBOL res 576 -448 R0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 576 -544 R0
SYMATTR InstName R5
SYMATTR Value 100k
SYMBOL voltage 1520 -560 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V5
SYMATTR Value 26
SYMBOL Opamps\\UniversalOpamp2 320 -64 M0
WINDOW 3 -50 70 Left 2
SYMATTR Value LM2901
SYMATTR InstName U2
SYMATTR SpiceModel ""
SYMATTR Value2 ""
SYMATTR SpiceLine ""
SYMATTR SpiceLine2 ""
SYMBOL res 208 -304 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res 528 -160 R0
SYMATTR InstName R7
SYMATTR Value 100k
SYMBOL res 528 -32 R0
SYMATTR InstName R8
SYMATTR Value 100k
SYMBOL res 384 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL res 368 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 100k
SYMBOL cap 448 -192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 100p
SYMBOL pmos -208 -272 R180
SYMATTR InstName M4
SYMATTR Value BSS84
SYMBOL nmos -208 -144 M0
SYMATTR InstName M5
SYMATTR Value BSP89
SYMBOL res -160 -448 R0
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL voltage 48 -512 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V6
SYMATTR Value 13.5
SYMBOL schottky -448 -432 R0
SYMATTR InstName D1
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap -448 -320 R0
SYMATTR InstName C2
SYMATTR Value 4µ7
SYMBOL schottky -496 -368 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap -736 -320 R0
SYMATTR InstName C3
SYMATTR Value 4µ7
SYMBOL current -848 -336 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName I1
SYMATTR Value .005
SYMBOL nmos -32 -288 M0
SYMATTR InstName M6
SYMATTR Value BSP89
SYMBOL res -288 -240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 3
SYMBOL res -1040 -416 R0
SYMATTR InstName R13
SYMATTR Value 100k
SYMBOL res -1040 -272 R0
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL cap -1136 -384 R0
SYMATTR InstName C4
SYMATTR Value .1µ
SYMBOL nmos -976 -112 M0
SYMATTR InstName M7
SYMATTR Value BSP89
SYMBOL voltage -912 -16 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V7
SYMATTR Value PWL(0 0 .005 0 .0051 5)
SYMBOL zener -608 -320 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value TFZ13B
SYMATTR Description Diode
SYMATTR Type diode
TEXT -48 568 Left 2 !.tran .01
TEXT 1872 -208 Left 2 !* LM2901 VOLTAGE COMPARATOR "MACROMODEL" SUBCIRCUIT\n* CREATED USING PARTS VERSION 4.03 ON 03/14/90 AT 13:05\n* REV (N/A)\n* CONNECTIONS:   NON-INVERTING INPUT\n*                | INVERTING INPUT\n*                | | POSITIVE POWER SUPPLY\n*                | | | NEGATIVE POWER SUPPLY\n*                | | | | OPEN COLLECTOR OUTPUT\n*                | | | | |\n.SUBCKT LM2901   1 2 3 4 5\n*\n  F1    9  3 V1 1\n  IEE   3  7 DC 100.0E-6\n  VI1  21  1 DC .75\n  VI2  22  2 DC .75\n  Q1    9 21  7 QIN\n  Q2    8 22  7 QIN\n  Q3    9  8  4 QMO\n  Q4    8  8  4 QMI\n.MODEL QIN PNP(IS=800.0E-18 BF=2.000E3)\n.MODEL QMI NPN(IS=800.0E-18 BF=1002)\n.MODEL QMO NPN(IS=800.0E-18 BF=1000 CJC=1E-15 TR=807.4E-9)\n  E1   10  4  9  4  1\n  V1   10 11 DC 0\n  Q5    5 11  4 QOC\n.MODEL QOC NPN(IS=800.0E-18 BF=3.378E3 CJC=1E-15 TF=930.2E-12 TR=543.8E-9)\n  DP    4  3 DX\n  RP    3  4 50.00E3\n.MODEL DX  D(IS=800.0E-18)\n*\n.ENDS\n
